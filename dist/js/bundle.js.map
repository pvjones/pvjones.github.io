{"version":3,"sources":["app.js","apod/apodContr.js","apod/apodServ.js","home/geolocation.js","home/headerDirective.js","home/liveClock.js","home/mainContr.js","home/weatherServ.js","neo/dateService.js","neo/neoBubbleChart.js","neo/neoContr.js","neo/neoDeserialServ.js","neo/neoService.js","neo/resizeService.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","controller","templateUrl","otherwise","$scope","apodServ","apodYears","apodMonths","apodDays","i","Date","getFullYear","push","apodLoaded","getCurrentApod","then","response","currentApod","data","yyyy","mm","dd","getApodByDate","queryDate","toString","service","$http","apiKey","currentApodReq","method","dateReq","factory","$q","$window","getCurrentPosition","deferred","defer","navigator","geolocation","reject","position","resolve","err","promise","directive","$interval","scope","restrict","template","link","element","attributes","timeRefresh","timeFormat","format","date","myDate","getHours","greeting","geolocationFact","weatherServ","bgUrl","setBgImage","imgCount","dir","randomCount","Math","round","random","images","weatherLoaded","userLat","coords","latitude","userLong","longitude","getWeather","weatherObj","currently","cloudCover","slice","weatherSummary","summary","visibility","temperature","sunrise","daily","sunriseTime","sunset","sunsetTime","moonPhase","skyView","$sce","currentWeatherURL","trustAsResourceUrl","currentWeatherReq","getCurrentDate","getFormattedDates","getMonth","getDate","apiFormat","join","displayFormat","addDays","days","newDateMs","getTime","createWeek","startDate","endDate","createWeekArray","numberOfWeeks","weekArray","dateCounter","newWeek","resizeService","radiusSelector","colorSelector","elem","attrs","chartCanvas","width","calculateElementWidth","height","calculateElementHeight","diameter","window","onresize","event","updateChart","$watch","n","o","d3","colorInterpolator","interpolateHcl","tip","attr","html","d","neoName","estDiameterKm","toFixed","missDistanceKm","relVelocityKph","toExponential","toUpperCase","replace","orbitBody","svg","select","append","call","packing","layout","pack","sort","size","value","padding","max","min","children","forEach","e","length","radius","node","selectAll","nodes","filter","exit","transition","duration","remove","enter","classed","x","y","isPotHazard","on","show","hide","r","style","text","textHandler","substring","$rootScope","neoService","dateService","$timeout","resetToggleButtons","active","getNeoData","calculateWeekStats","stats","label","viewControlObject","mainTitleDate","showMainTitleDate","toggleViewDisplay","showHazardText","showHazard","hazardElements","document","querySelectorAll","notHazardElements","classList","toggle","dataArray","distanceValues","velocityValues","diameterValues","values","maxDistance","reduce","prev","curr","minDistance","meanDistance","mean","maxVelocity","minVelocity","meanVelocity","maxDiameter","minDiameter","meanDiameter","autoLoopLabel","autoLoop","timeOutGetter","j","$on","console","log","processNeoData","json","neoObjects","near_earth_objects","newNeoObj","rawNeoObj","neoID","neo_reference_id","name","closeApproachDate","close_approach_data","close_approach_date","miss_distance","kilometers","estimated_diameter","estimated_diameter_max","estimated_diameter_min","relative_velocity","kilometers_per_hour","orbiting_body","is_potentially_hazardous_asteroid","neoDeserialServ","neoDataRequest","offsetWidth","getComputedStyle","margin","parseFloat","marginLeft","marginRight","paddingLeft","paddingRight","border","borderLeftWidth","borderRightWidth","offsetHeight","marginTop","marginBottom","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('nasaViewer', ['ui.router'])\n  .config(function($stateProvider, $urlRouterProvider) {\n\n    $stateProvider\n      .state('home', {\n        url: '/',\n        controller: 'mainContr',\n        templateUrl: '../views/home.html'\n      })\n      .state('apod', {\n        url: '/apod',\n        controller: 'apodContr',\n        templateUrl: '../views/apod.html'\n      }).state('neo', {\n        url: '/neo',\n        controller: 'neoContr',\n        templateUrl: '../views/neo.html'\n      });\n\n      $urlRouterProvider\n        .otherwise('/')\n\n\n\n  })","angular.module('nasaViewer').controller('apodContr', function($scope, apodServ) {\n\n  $scope.apodYears = [];\n  $scope.apodMonths = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"];\n  $scope.apodDays = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\"];\n\n  for (var i = 1996; i <= (new Date().getFullYear()); i++) {\n    $scope.apodYears.push(i);\n  };\n\n  $scope.apodLoaded = false;\n\n  var getCurrentApod = function() {\n    apodServ.getCurrentApod().then(function(response) {\n      $scope.currentApod = response.data;\n      $scope.yyyy = '';\n      $scope.mm = '';\n      $scope.dd = '';\n      $scope.apodLoaded = true;\n    })\n  };\n\n  getCurrentApod();\n\n  $scope.getCurrentApod = getCurrentApod;\n\n  $scope.getApodByDate = function(yyyy, mm, dd) {\n    var queryDate = (yyyy + \"-\" + mm + \"-\" + dd).toString();\n    apodServ.getApodByDate(queryDate).then(function(response) {\n\n      $scope.currentApod = response.data;\n      $scope.apodLoaded = true;\n\n    })\n  }\n\n});","angular.module('nasaViewer').service('apodServ', function($http) {\n\n  var apiKey = '2DGaM1ahLanQmj6wbsyHjLpe54YCodSEzsvm4cjZ';\n\n  this.getCurrentApod = function() {\n    var currentApodReq = {\n      method: 'GET',\n      url: 'https://api.nasa.gov/planetary/apod?api_key=' + apiKey,\n    };\n    return $http(currentApodReq);\n  };\n\n  this.getApodByDate = function(queryDate) {\n    var dateReq = {\n      method: 'GET',\n      url: 'https://api.nasa.gov/planetary/apod?api_key=' + apiKey + \"&date=\" + queryDate\n    };\n    return $http(dateReq);\n  };\n\n});","angular.module('nasaViewer').factory('geolocationFact', ['$q', '$window', function ($q, $window) {\n\n    'use strict';\n\n    function getCurrentPosition() {\n        var deferred = $q.defer();\n\n        if (!$window.navigator.geolocation) {\n            deferred.reject('Geolocation not supported.');\n        } else {\n            $window.navigator.geolocation.getCurrentPosition(\n                function (position) {\n                    deferred.resolve(position);\n                },\n                function (err) {\n                    deferred.reject(err);\n                });\n        }\n\n        return deferred.promise;\n    }\n\n    return {\n        getCurrentPosition: getCurrentPosition\n    };\n}]);"," \n\n\n\n\n\n\n // $scope.navClass = 'big';\n //   angular.element($window).bind(\n //    \"scroll\", function() {\n //         console.log(window.pageYOffset);\n //         if (window.pageYOffset > 80) {\n //          console.log($scope.navClass)\n //           $scope.navClass = 'small-header';\n //         } \n //         else {\n //            $scope.navClass = 'big-header';\n //         }\n //         $scope.$apply();\n //   }); ","angular.module('nasaViewer').directive('liveClock', function($interval) {\n  return {\n    scope: true, //isolates directive\n    restrict: 'E',\n    template: \"<span class='live-clock-greeting'>{{greeting}}, the current time is: <br /></span><span class='live-clock-time'>{{date.now() | date: timeFormat}}</span>\",\n    link: function(scope, element, attributes) {\n\n      timeRefresh();\n\n      function timeRefresh() {\n        scope.timeFormat = (attributes.format === '12') ? 'hh:mm a' : 'HH:mm';\n        scope.date = Date;\n\n        var myDate = new Date();\n        /* hour is before noon */\n        if (myDate.getHours() < 12) {\n          scope.greeting = \"Good Morning\";\n        } else /* Hour is from noon to 5pm (actually to 5:59 pm) */\n        if (myDate.getHours() >= 12 && myDate.getHours() <= 17) {\n          scope.greeting = \"Good Afternoon\";\n        } else /* the hour is after 5pm, so it is between 6pm and midnight */\n        if (myDate.getHours() > 17 && myDate.getHours() <= 24) {\n          scope.greeting = \"Good Evening\";;\n        } else /* the hour is not between 0 and 24, so something is wrong */ {\n          scope.greeting = \"Hello\";\n        }\n\n\n      }\n\n\n      $interval(timeRefresh, 1000);\n    }\n  }\n})","angular.module('nasaViewer').controller('mainContr', function($scope, apodServ, geolocationFact, weatherServ, $window) {\n\n  //default background image (set because sometimes images[randomCount] below is evaluating undefined)\n  $scope.bgUrl = {\n    'background-image': \"url('../images/home/bg-01.jpg')\"\n  }\n\n\n  \n\n\n\n  $scope.setBgImage = function() {\n    var imgCount = 4;\n    var dir = '../images/home/';\n    var randomCount = Math.round(Math.random() * (imgCount - 1)) + 1;\n    var images = [\n      \"bg-01.jpg\",\n      \"bg-02.jpg\",\n      \"bg-03.jpg\",\n      \"bg-04.jpg\"\n    ];\n\n    if (images[randomCount]) {\n      $scope.bgUrl = {\n        'background-image': \"url('\" + dir + images[randomCount] + \"')\"\n      }\n    }\n  }\n\n  //only show widgets once data is returned\n  $scope.weatherLoaded = false;\n\n  apodServ.getCurrentApod().then(function(response) {\n    $scope.currentApod = response.data;\n  });\n\n  geolocationFact.getCurrentPosition().then(function(response) {\n    var userLat = response.coords.latitude;\n    var userLong = response.coords.longitude;\n    weatherServ.getWeather(userLat, userLong).then(function(response) {\n      var weatherObj = response.data.currently;\n      $scope.cloudCover = (weatherObj.cloudCover * 100).toString().slice(0, 2);\n      $scope.weatherSummary = weatherObj.summary;\n      $scope.visibility = weatherObj.visibility;\n      $scope.temperature = weatherObj.temperature;\n      $scope.sunrise = response.data.daily.data[0].sunriseTime * 1000; //convert from unix to JS time\n      $scope.sunset = response.data.daily.data[0].sunsetTime * 1000;\n      $scope.moonPhase = response.data.daily.data[0].moonPhase;\n\n      var skyView = \"\"\n      if ($scope.cloudCover === 0 && $scope.visibility > 9) {\n        skyView = \"excellent\";\n      } else if (weatherObj.cloudCover < 0.1 && weatherObj.visibility > 7) {\n        skyView = \"good\";\n      } else if (weatherObj.cloudCover < 0.2 && weatherObj.visibility > 5) {\n        skyView = \"fair\";\n      } else if (weatherObj.cloudCover > 0.3 || weatherObj.visibility < 1) {\n        skyView = \"poor\";\n      } else {\n        skyView = \"unknown\";\n      }\n\n      $scope.skyView = skyView;\n      $scope.weatherLoaded = true;\n    })\n  });\n\n\n\n});","angular.module('nasaViewer').service('weatherServ', function($http, $sce) {\n\n  var apiKey = \"aa55d72a47da5d7d1bcabcb04ad92fdd\";\n\n  this.getWeather = function(userLat, userLong) {\n    var currentWeatherURL = $sce.trustAsResourceUrl(\"https://api.darksky.net/forecast/\" + apiKey + \"/\" + userLat + \",\" + userLong)\n\n    var currentWeatherReq = {\n      method: 'JSONP',\n      url: currentWeatherURL\n    }\n    \n    return $http(currentWeatherReq);\n  }\n  \n\n\n});","  angular.module('nasaViewer').service('dateService', function() {\n\n  this.getCurrentDate = function() {\n    return new Date();\n  }\n\n  function getFormattedDates(date) {\n\n    var mm = date.getMonth() + 1;\n    var dd = date.getDate();\n    var yyyy = date.getFullYear();\n    return {\n      apiFormat: ([\n        yyyy,\n        \"-\",\n        ((mm > 9) ? '' : '0') + mm,\n        \"-\",\n        ((dd > 9) ? '' : '0') + dd\n      ]).join(''),\n      displayFormat: ([\n        ((mm > 9) ? '' : '0') + mm,\n        \"-\",\n        ((dd > 9) ? '' : '0') + dd,\n        \"-\",\n        yyyy\n      ]).join('')\n    }\n  }\n\n  function addDays(date, days) {\n    var newDateMs = date.getTime() + 60 * 60 * 24 * 1000 * days;\n    return new Date(newDateMs);\n  }\n\n  function createWeek(startDate) {\n    return {\n      startDate: getFormattedDates(startDate),\n      endDate: getFormattedDates(addDays(startDate, 7))\n    }\n  }\n\n  this.createWeekArray = function(startDate, numberOfWeeks) {\n    let weekArray = [];\n    let dateCounter = startDate;\n    for (let i = 0; i < numberOfWeeks; i++) {\n      let newWeek = createWeek(dateCounter);\n      weekArray.push(newWeek);\n      dateCounter = addDays(dateCounter, 7);\n    }\n    return weekArray;\n  }\n\n\n\n});","angular.module('nasaViewer').directive('bubbleChart', ['resizeService', function(resizeService) {\n    return {\n      restrict: 'E',\n      scope: {\n        data: '=',\n        radiusSelector: '=',\n        colorSelector: \"=\"\n      },\n      link: function($scope, elem, attrs) {\n          const chartCanvas = elem[0];\n          let width = resizeService.calculateElementWidth(chartCanvas);\n          let height = resizeService.calculateElementHeight(chartCanvas);\n          let diameter = width;\n\n          window.onresize = function(event) {\n            width = resizeService.calculateElementWidth(chartCanvas);\n            height = resizeService.calculateElementHeight(chartCanvas);\n            updateChart();\n          }\n\n          $scope.$watch(\"data\", function(n, o) {\n            if (n !== o) {\n              updateChart();\n            }\n          });\n\n          $scope.$watch(\"radiusSelector\", function(n, o) {\n            if (n !== o) {\n              updateChart();\n            }\n          });\n\n          $scope.$watch(\"colorSelector\", function(n, o) {\n            if (n !== o) {\n              updateChart();\n            }\n          });\n\n          //definitions\n\n          var format = d3.format(\",d\");\n\n          // initialize color interpolator function\n          var colorInterpolator = d3.interpolateHcl(\"#750076\", \"#ffa346\");\n\n          // Initialize tooltips\n          var tip = d3.tip()\n            .attr('class', 'd3-tip')\n            .html(function(d) {\n              return \"<span class='tooltip-title'>NEO name:</span> <span class='tooltip-value'>\" + d.neoName + \"</span>\" + \"<br />\" + \"<span class='tooltip-title'>Estimated Diameter:</span> <span class='tooltip-value'>\" + d.estDiameterKm.toFixed(2) + \" km</span>\" + \"<br />\" + \"<span class='tooltip-title'>Closest approach:</span> <span class='tooltip-value'>\" + (d.missDistanceKm / 385000).toFixed(2) + \" LD</span>\" + \"<br />\" + \"<span class='tooltip-title'>Relative velocity:</span> <span class='tooltip-value'>\" + ((+d.relVelocityKph).toExponential(1).toUpperCase().replace(/\\+/g, \"\")) + \" km/h</span>\" + \"<br />\" + \"<span class='tooltip-title'>Orbiting:</span> <span class='tooltip-value'>\" + d.orbitBody + \"</span>\";\n            })\n\n          //create svg html element for directive and set attributes\n          //normally done outside update function\n          let svg = d3.select(elem[0])\n            .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .attr(\"class\", \"bubble\")\n    \n            .call(tip)\n\n\n          function updateChart() {\n            var radiusSelector = $scope.radiusSelector;\n            var colorSelector = $scope.colorSelector;\n            var data = $scope.data;\n\n            //define parameters for the parent packing container\n            var packing = d3.layout.pack()\n              .sort(null)\n              .size([width, height])\n              .value(function(d) {\n                return d[radiusSelector]; // VALUE ACCESSOR -- change this to a variable\n              })\n              .padding(5);\n\n            //color interpolation max and min\n            var max, min;\n            data.children.forEach(function(e) {\n              max = (+e[colorSelector] < +max ? +max : +e[colorSelector]);\n              min = (+e[colorSelector] > +min ? +min : +e[colorSelector]);\n            });\n\n            if (data && data.children.length > 0) {\n              packing.radius()\n\n              //Select all nodes and bind data that will determine node svg shape and size -- data needs to be a very specific format (in this case, obj.children where children is an array of objects. convert data to this format if necessary, and use a function below to return the \n              var node = svg.selectAll(\".node\")\n                .data(packing.nodes(data)\n                  .filter(function(d) {\n                    return !d.children;\n                  })\n                );\n\n              node.exit().transition().duration(0).remove();\n\n              node.select(\"text\").remove()\n\n              node.enter().append(\"g\")\n                .classed(\"node\", true)\n                .attr(\"transform\", function(d) {\n                  return \"translate(\" + d.x + \",\" + d.y + \")\";\n                })\n                .append(\"circle\")\n                .attr(\"class\", function(d) {\n                  if (d.isPotHazard) {\n                    return \"is-hazard\"\n                  }\n                })\n                .on('mouseover', tip.show)\n                .on('mouseout', tip.hide)\n\n              node.transition()\n                .attr(\"transform\", function(d) {\n                  return \"translate(\" + d.x + \",\" + d.y + \")\";\n                });\n\n              node.select(\"circle\")\n                .transition()\n                .attr(\"r\", function(d) {\n                  return d.r;\n                })\n\n              node.append(\"text\")\n                .attr(\"dy\", \".3em\")\n                .style(\"text-anchor\", \"middle\")\n                .style(\"pointer-events\", \"none\")\n                .text(function(d) {\n                  return textHandler(d);\n                });\n\n              //for color redraw to work properly, it has to be part of a separate \"select\" function\n              node.select(\"circle\")\n                .style(\"fill\", function(d) {\n                  return colorInterpolator((+d[colorSelector] - +min) / (+max - +min));\n                })\n                .attr('fill-opacity', 0.7)\n                .attr('stroke', function(d) {\n                  return colorInterpolator((+d[colorSelector] - +min) / (+max - +min));\n                })\n                .attr('stroke-width', 2)\n\n            } //end of if statement\n          } //end of update function\n          function textHandler(d) {\n            if (d.r < 25) {\n              return \"\";\n            }\n            return d.neoName.substring(0, d.r / 2.8)\n          }\n        } //end of link\n    } //end of return\n  }]) //end of directive","angular.module('nasaViewer').controller('neoContr', function($scope, $rootScope, neoService, dateService, $timeout) {\n\n  $scope.weekArray = dateService.createWeekArray(dateService.getCurrentDate(), 8);\n\n  $scope.resetToggleButtons = function() {\n    for (let i = 0; i < $scope.weekArray.length; i++) {\n      $scope.weekArray[i].active = false;\n    }\n  };\n\n  $scope.resetToggleButtons();\n\n  $scope.getNeoData = function(startDate, endDate) {\n    neoService.getNeoData(startDate, endDate).then(function(response) {\n      $scope.data = response;\n      calculateWeekStats(response);\n    })\n  }\n\n\n  $scope.stats = {\n    missDistanceKm: {\n      label: \"Closest Approach (LD)\",\n    },\n    relVelocityKph: {\n      label: \"Relative Velocity (km/h)\",\n    },\n    estDiameterKm: {\n      label: \"Estimated Diameter (km)\",\n    }\n  };\n\n  $scope.viewControlObject = {\n    mainTitleDate: \"\",\n    showMainTitleDate: false,\n  }\n\n  $scope.radiusSelector = \"estDiameterKm\";\n  $scope.colorSelector = \"missDistanceKm\";\n\n  $scope.toggleViewDisplay = function(date) {\n    $scope.viewControlObject.mainTitleDate = date;\n    $scope.viewControlObject.showMainTitleDate = true;\n  }\n\n  $scope.showHazardText = \"Show\";\n\n  $scope.showHazard = function() {\n    var hazardElements = document.querySelectorAll(\".is-hazard\");\n    var notHazardElements = document.querySelectorAll(\"circle:not(.is-hazard)\");\n\n    hazardElements.forEach(function(e) {\n      e.classList.toggle(\"show-hazard\")\n    });\n\n    notHazardElements.forEach(function(e) {\n      e.classList.toggle(\"show-not-hazard\")\n    });\n\n    $scope.showHazardText = ($scope.showHazardText === \"Show\" ? \"Hide\" : \"Show\")\n  }\n\n  function calculateWeekStats(data) {\n    if (data) {\n      const dataArray = data.children;\n      let distanceValues = [];\n      let velocityValues = [];\n      let diameterValues = [];\n      dataArray.forEach(function(e) {\n        distanceValues.push(+e.missDistanceKm);\n        velocityValues.push(+e.relVelocityKph);\n        diameterValues.push(+e.estDiameterKm);\n      })\n\n      $scope.stats.missDistanceKm.values = distanceValues;\n      let maxDistance = distanceValues.reduce((prev, curr) => {\n        return prev > curr ? prev : curr;\n      });\n      $scope.stats.missDistanceKm.max = (maxDistance / 385000).toFixed(1);\n      let minDistance = distanceValues.reduce((prev, curr) => {\n        return prev < curr ? prev : curr;\n      });\n      $scope.stats.missDistanceKm.min = (minDistance / 385000).toFixed(1);\n      let meanDistance = distanceValues.reduce((prev, curr) => {\n        return (prev + curr);\n      }) / distanceValues.length;\n      $scope.stats.missDistanceKm.mean = (meanDistance / 385000).toFixed(1);\n\n      $scope.stats.relVelocityKph.values = velocityValues;\n      let maxVelocity = velocityValues.reduce((prev, curr) => {\n        return prev > curr ? prev : curr;\n      });\n      $scope.stats.relVelocityKph.max = maxVelocity.toExponential(1).toUpperCase().replace(/\\+/g, \"\");\n      let minVelocity = velocityValues.reduce((prev, curr) => {\n        return prev < curr ? prev : curr;\n      });\n      $scope.stats.relVelocityKph.min = minVelocity.toExponential(1).toUpperCase().replace(/\\+/g, \"\");\n      let meanVelocity = velocityValues.reduce((prev, curr) => {\n        return (prev + curr);\n      }) / velocityValues.length;\n      $scope.stats.relVelocityKph.mean = meanVelocity.toExponential(1).toUpperCase().replace(/\\+/g, \"\");\n\n      $scope.stats.estDiameterKm.values = diameterValues;\n      let maxDiameter = diameterValues.reduce((prev, curr) => {\n        return prev > curr ? prev : curr;\n      });\n      $scope.stats.estDiameterKm.max = maxDiameter.toFixed(2);\n      let minDiameter = diameterValues.reduce((prev, curr) => {\n        return prev < curr ? prev : curr;\n      });\n      $scope.stats.estDiameterKm.min = minDiameter.toFixed(2);\n      let meanDiameter = diameterValues.reduce((prev, curr) => {\n        return (prev + curr);\n      }) / diameterValues.length;\n      $scope.stats.estDiameterKm.mean = meanDiameter.toFixed(2)\n\n    }\n  }\n\n  $scope.autoLoopLabel = \"Play week loop\";\n\n  $scope.autoLoop = function() {\n\n    for (let i = 0; i <= $scope.weekArray.length; i++) {\n\n      $timeout(timeOutGetter(i), 4000 * (i))\n\n      function timeOutGetter(i) {\n        $scope.autoLoopLabel = \"Playing loop...\"\n\n        if (i < $scope.weekArray.length) {\n          var startDate = $scope.weekArray[i].startDate.apiFormat;\n          var endDate = $scope.weekArray[i].endDate.apiFormat;\n\n          return function() {\n            $scope.getNeoData(startDate, endDate);\n            for (let j = 0; j < $scope.weekArray.length; j++) {\n              $scope.weekArray[j].active = false;\n            }\n            $scope.weekArray[i].active = true;\n            $scope.viewControlObject.mainTitleDate = $scope.weekArray[i].startDate.displayFormat;\n          }\n\n        } else if (i = $scope.weekArray.length) {\n          return function() {\n            $scope.viewControlObject.mainTitleDate = $scope.weekArray[0].startDate.displayFormat;\n            $scope.getNeoData($scope.weekArray[0].startDate.apiFormat, $scope.weekArray[0].endDate.apiFormat);\n            for (let j = 0; j < $scope.weekArray.length; j++) {\n              $scope.weekArray[j].active = false;\n            }\n            $scope.weekArray[0].active = true;\n            $scope.autoLoopLabel = \"Play week loop\";\n          }\n        }\n      }\n    }\n  }\n\n $scope.$on('$viewContentLoaded', function() {\n    $scope.viewControlObject.mainTitleDate = $scope.weekArray[0].startDate.displayFormat;\n    console.log($scope.weekArray)\n    $scope.viewControlObject.showMainTitleDate = true;\n    $scope.getNeoData($scope.weekArray[0].startDate.apiFormat, $scope.weekArray[0].endDate.apiFormat);\n    $scope.weekArray[0].active = true;\n  });\n\n  // window.onload = function() {\n  //   $scope.viewControlObject.mainTitleDate = $scope.weekArray[0].startDate.displayFormat;\n  //   console.log($scope.weekArray)\n  //   $scope.viewControlObject.showMainTitleDate = true;\n  //   $scope.getNeoData($scope.weekArray[0].startDate.apiFormat, $scope.weekArray[0].endDate.apiFormat);\n  //   $scope.weekArray[0].active = true;\n  // };\n\n\n});","angular.module('nasaViewer').service('neoDeserialServ', function() {\n\n  this.processNeoData = function(json) {\n\n    var neoObjects = [];\n\n    // loop through days of week\n    for (var date in json.near_earth_objects) {\n      // for each day, loop through asteroid objects\n      for (var i = 0; i < json.near_earth_objects[date].length; i++) {\n\n        var newNeoObj = {};\n        var rawNeoObj = json.near_earth_objects[date][i]\n\n        // ID number\n        newNeoObj.neoID = rawNeoObj.neo_reference_id;\n        // NEO name\n        newNeoObj.neoName = rawNeoObj.name;\n        // Date of closest approach\n        newNeoObj.closeApproachDate = rawNeoObj.close_approach_data[0].close_approach_date;\n        // Closest approach distance\n        newNeoObj.missDistanceKm = rawNeoObj.close_approach_data[0].miss_distance.kilometers;\n        // Mean estimated diameter\n        newNeoObj.estDiameterKm = (rawNeoObj.estimated_diameter.kilometers.estimated_diameter_max + rawNeoObj.estimated_diameter.kilometers.estimated_diameter_min) / 2;\n        // Relative velocity\n        newNeoObj.relVelocityKph = rawNeoObj.close_approach_data[0].relative_velocity.kilometers_per_hour;\n        // Orbiting body\n        newNeoObj.orbitBody = rawNeoObj.close_approach_data[0].orbiting_body;\n        // Is NEO classified as potentially hazardous?\n        newNeoObj.isPotHazard = rawNeoObj.is_potentially_hazardous_asteroid;\n\n        neoObjects.push(newNeoObj)\n      };\n    }\n    return {\n      children: neoObjects\n    }\n  }\n\n});","angular.module('nasaViewer').service('neoService', function($http, neoDeserialServ, dateService) {\n\n  //NASA api key\n  var apiKey = \"2DGaM1ahLanQmj6wbsyHjLpe54YCodSEzsvm4cjZ\";\n\n  // http request for all neo with nearest approach over next 7 days\n  this.getNeoData = function(startDate, endDate) {\n\n    var neoDataRequest = {\n\n      method: \"GET\",\n      url: \"https://api.nasa.gov/neo/rest/v1/feed?start_date=\" + startDate + \"&end_date=\" + endDate + \"&api_key=\" + apiKey\n    }\n\n    var promise = $http(neoDataRequest).then(function(response) {\n      // strip header and hand off to deserializing service\n\n      return neoDeserialServ.processNeoData(response.data);\n\n    })\n\n    return promise; //must return the promise for accessing functions\n\n  }\n\n\n\n});","angular.module('nasaViewer').service('resizeService', function() {\n\n  this.calculateElementWidth = (element) => {  \n    if (!element.offsetWidth) {    \n      return 0;  \n    }\n      \n    var style = window.getComputedStyle(element);  \n    var width = element.offsetWidth;  \n    var margin = parseFloat(style.marginLeft) + parseFloat(style.marginRight);  \n    var padding = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);  \n    var border = parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);\n      \n    return width ;\n  }\n\n  this.calculateElementHeight = (element) => {  \n    if (!element.offsetHeight) {    \n      return 0;  \n    }\n      \n    var style = window.getComputedStyle(element);  \n    var height = element.offsetHeight;  \n    var margin = parseFloat(style.marginTop) + parseFloat(style.marginBottom);  \n    var padding = parseFloat(style.paddingTop) + parseFloat(style.paddingBottom);  \n    var border = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n      \n    return height ;\n\n  }\n\n});"]}