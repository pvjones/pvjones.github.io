{"version":3,"sources":["app.js","home/geolocation.js","home/liveClock.js","home/mainContr.js","home/weatherServ.js","apod/apodContr.js","apod/apodServ.js","neo/dateService.js","neo/neoBubbleChart.js","neo/neoContr.js","neo/neoDeserialServ.js","neo/neoService.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","controller","templateUrl","otherwise","factory","$q","$window","getCurrentPosition","deferred","defer","navigator","geolocation","reject","position","resolve","err","promise","directive","$interval","scope","restrict","template","link","element","attributes","timeRefresh","timeFormat","format","date","Date","myDate","getHours","greeting","$scope","apodServ","geolocationFact","weatherServ","bgUrl","setBgImage","imgCount","dir","randomCount","Math","round","random","images","weatherLoaded","getCurrentApod","then","response","currentApod","data","userLat","coords","latitude","userLong","longitude","getWeather","weatherObj","currently","cloudCover","toString","slice","weatherSummary","summary","visibility","temperature","sunrise","daily","sunriseTime","sunset","sunsetTime","moonPhase","skyView","service","$http","$sce","apiKey","currentWeatherURL","trustAsResourceUrl","currentWeatherReq","method","apodYears","apodMonths","apodDays","i","getFullYear","push","apodLoaded","yyyy","mm","dd","getApodByDate","queryDate","currentApodReq","dateReq","getCurrentDate","getFormattedDates","getMonth","getDate","apiFormat","join","displayFormat","addDays","days","newDateMs","getTime","createWeek","startDate","endDate","createWeekArray","numberOfWeeks","weekArray","dateCounter","newWeek","radiusSelector","colorSelector","elem","attrs","$watch","n","o","updateChart","diameter","d3","colorInterpolator","interpolateHcl","svg","select","append","attr","packing","layout","pack","sort","size","value","d","estDiameterKm","padding","console","log","max","min","children","forEach","e","missDistanceKm","length","radius","node","selectAll","nodes","filter","exit","transition","duration","remove","enter","classed","x","y","style","r","text","textHandler","neoName","substring","neoService","dateService","resetToggleButtons","active","mainTitleDate","showMainTitleDate","toggleTitleDisplay","getNeoData","processNeoData","json","neoObjects","near_earth_objects","newNeoObj","rawNeoObj","neoID","neo_reference_id","name","closeApproachDate","close_approach_data","close_approach_date","miss_distance","kilometers","estimated_diameter","estimated_diameter_max","estimated_diameter_min","relVelocityKph","relative_velocity","kilometers_per_hour","orbitBody","orbiting_body","isPotHazard","is_potentially_hazardous_asteroid","neoDeserialServ","neoDataRequest"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('nasaViewer', ['ui.router'])\n  .config(function($stateProvider, $urlRouterProvider) {\n\n    $stateProvider\n      .state('home', {\n        url: '/',\n        controller: 'mainContr',\n        templateUrl: '../views/home.html'\n      })\n      .state('apod', {\n        url: '/apod',\n        controller: 'apodContr',\n        templateUrl: '../views/apod.html'\n      }).state('neo', {\n        url: '/neo',\n        controller: 'neoContr',\n        templateUrl: '../views/neo.html'\n      });\n\n      $urlRouterProvider\n        .otherwise('/')\n\n\n\n  })","angular.module('nasaViewer').factory('geolocationFact', ['$q', '$window', function ($q, $window) {\n\n    'use strict';\n\n    function getCurrentPosition() {\n        var deferred = $q.defer();\n\n        if (!$window.navigator.geolocation) {\n            deferred.reject('Geolocation not supported.');\n        } else {\n            $window.navigator.geolocation.getCurrentPosition(\n                function (position) {\n                    deferred.resolve(position);\n                },\n                function (err) {\n                    deferred.reject(err);\n                });\n        }\n\n        return deferred.promise;\n    }\n\n    return {\n        getCurrentPosition: getCurrentPosition\n    };\n}]);","angular.module('nasaViewer').directive('liveClock', function($interval) {\n  return {\n    scope: true, //isolates directive\n    restrict: 'E',\n    template: \"<span class='live-clock-greeting'>{{greeting}}, the current time is: <br /></span><span class='live-clock-time'>{{date.now() | date: timeFormat}}</span>\",\n    link: function(scope, element, attributes) {\n\n      timeRefresh();\n\n      function timeRefresh() {\n        scope.timeFormat = (attributes.format === '12') ? 'hh:mm a' : 'HH:mm';\n        scope.date = Date;\n\n        var myDate = new Date();\n        /* hour is before noon */\n        if (myDate.getHours() < 12) {\n          scope.greeting = \"Good Morning\";\n        } else /* Hour is from noon to 5pm (actually to 5:59 pm) */\n        if (myDate.getHours() >= 12 && myDate.getHours() <= 17) {\n          scope.greeting = \"Good Afternoon\";\n        } else /* the hour is after 5pm, so it is between 6pm and midnight */\n        if (myDate.getHours() > 17 && myDate.getHours() <= 24) {\n          scope.greeting = \"Good Evening\";;\n        } else /* the hour is not between 0 and 24, so something is wrong */ {\n          scope.greeting = \"Hello\";\n        }\n\n\n      }\n\n\n      $interval(timeRefresh, 1000);\n    }\n  }\n})","angular.module('nasaViewer').controller('mainContr', function($scope, apodServ, geolocationFact, weatherServ) {\n\n  //default background image (set because sometimes images[randomCount] below is evaluating undefined)\n  $scope.bgUrl = {\n    'background-image': \"url('../images/home/bg-01.jpg')\"\n  }\n\n  $scope.setBgImage = function() {\n    var imgCount = 4;\n    var dir = '../images/home/';\n    var randomCount = Math.round(Math.random() * (imgCount - 1)) + 1;\n    var images = [\n      \"bg-01.jpg\",\n      \"bg-02.jpg\",\n      \"bg-03.jpg\",\n      \"bg-04.jpg\"\n    ];\n\n    if (images[randomCount]) {\n      $scope.bgUrl = {\n        'background-image': \"url('\" + dir + images[randomCount] + \"')\"\n      }\n    }\n  }\n\n  //only show widgets once data is returned\n  $scope.weatherLoaded = false;\n\n  apodServ.getCurrentApod().then(function(response) {\n    $scope.currentApod = response.data;\n  });\n\n  geolocationFact.getCurrentPosition().then(function(response) {\n    var userLat = response.coords.latitude;\n    var userLong = response.coords.longitude;\n    weatherServ.getWeather(userLat, userLong).then(function(response) {\n      var weatherObj = response.data.currently;\n      $scope.cloudCover = (weatherObj.cloudCover * 100).toString().slice(0, 2);\n      $scope.weatherSummary = weatherObj.summary;\n      $scope.visibility = weatherObj.visibility;\n      $scope.temperature = weatherObj.temperature;\n      $scope.sunrise = response.data.daily.data[0].sunriseTime * 1000; //convert from unix to JS time\n      $scope.sunset = response.data.daily.data[0].sunsetTime * 1000;\n      $scope.moonPhase = response.data.daily.data[0].moonPhase;\n\n      var skyView = \"\"\n      if ($scope.cloudCover === 0 && $scope.visibility > 9) {\n        skyView = \"excellent\";\n      } else if (weatherObj.cloudCover < 0.2 && weatherObj.visibility > 8) {\n        skyView = \"good\";\n      } else if (weatherObj.cloudCover < 0.3 && weatherObj.visibility > 5) {\n        skyView = \"fair\";\n      } else if (weatherObj.cloudCover > 0.3 || weatherObj.visibility < 1) {\n        skyView = \"poor\";\n      } else {\n        skyView = \"unknown\";\n      }\n\n      $scope.skyView = skyView;\n      $scope.weatherLoaded = true;\n    })\n  });\n\n\n\n});","angular.module('nasaViewer').service('weatherServ', function($http, $sce) {\n\n  var apiKey = \"aa55d72a47da5d7d1bcabcb04ad92fdd\";\n\n  this.getWeather = function(userLat, userLong) {\n    var currentWeatherURL = $sce.trustAsResourceUrl(\"https://api.darksky.net/forecast/\" + apiKey + \"/\" + userLat + \",\" + userLong)\n\n    var currentWeatherReq = {\n      method: 'JSONP',\n      url: currentWeatherURL\n    }\n    \n    return $http(currentWeatherReq);\n  }\n  \n\n\n});","angular.module('nasaViewer').controller('apodContr', function($scope, apodServ) {\n\n  $scope.apodYears = [];\n  $scope.apodMonths = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"];\n  $scope.apodDays = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\"];\n\n  for (var i = 1996; i <= (new Date().getFullYear()); i++) {\n    $scope.apodYears.push(i);\n  };\n\n  $scope.apodLoaded = false;\n\n  var getCurrentApod = function() {\n    apodServ.getCurrentApod().then(function(response) {\n      $scope.currentApod = response.data;\n      $scope.yyyy = '';\n      $scope.mm = '';\n      $scope.dd = '';\n      $scope.apodLoaded = true;\n    })\n  };\n\n  getCurrentApod();\n\n  $scope.getCurrentApod = getCurrentApod;\n\n  $scope.getApodByDate = function(yyyy, mm, dd) {\n    var queryDate = (yyyy + \"-\" + mm + \"-\" + dd).toString();\n    apodServ.getApodByDate(queryDate).then(function(response) {\n\n      $scope.currentApod = response.data;\n      $scope.apodLoaded = true;\n\n    })\n  }\n\n});","angular.module('nasaViewer').service('apodServ', function($http) {\n\n  var apiKey = '2DGaM1ahLanQmj6wbsyHjLpe54YCodSEzsvm4cjZ';\n\n  this.getCurrentApod = function() {\n    var currentApodReq = {\n      method: 'GET',\n      url: 'https://api.nasa.gov/planetary/apod?api_key=' + apiKey,\n    };\n    return $http(currentApodReq);\n  };\n\n  this.getApodByDate = function(queryDate) {\n    var dateReq = {\n      method: 'GET',\n      url: 'https://api.nasa.gov/planetary/apod?api_key=' + apiKey + \"&date=\" + queryDate\n    };\n    return $http(dateReq);\n  };\n\n});","  angular.module('nasaViewer').service('dateService', function() {\n\n  this.getCurrentDate = function() {\n    return new Date();\n  }\n\n  function getFormattedDates(date) {\n\n    var mm = date.getMonth() + 1;\n    var dd = date.getDate();\n    var yyyy = date.getFullYear();\n    return {\n      apiFormat: ([\n        yyyy,\n        \"-\",\n        ((mm > 9) ? '' : '0') + mm,\n        \"-\",\n        ((dd > 9) ? '' : '0') + dd\n      ]).join(''),\n      displayFormat: ([\n        ((mm > 9) ? '' : '0') + mm,\n        \"-\",\n        ((dd > 9) ? '' : '0') + dd,\n        \"-\",\n        yyyy\n      ]).join('')\n    }\n  }\n\n  function addDays(date, days) {\n    var newDateMs = date.getTime() + 60 * 60 * 24 * 1000 * days;\n    return new Date(newDateMs);\n  }\n\n  function createWeek(startDate) {\n    return {\n      startDate: getFormattedDates(startDate),\n      endDate: getFormattedDates(addDays(startDate, 7))\n    }\n  }\n\n  this.createWeekArray = function(startDate, numberOfWeeks) {\n    let weekArray = [];\n    let dateCounter = startDate;\n    for (let i = 0; i < numberOfWeeks; i++) {\n      let newWeek = createWeek(dateCounter);\n      weekArray.push(newWeek);\n      dateCounter = addDays(dateCounter, 7);\n    }\n    return weekArray;\n  }\n\n\n\n});","angular.module('nasaViewer').directive('bubbleChart', function() {\n    return {\n      restrict: 'E',\n      scope: {\n        data: '=',\n        radiusSelector: '=',\n        colorSelector: \"=\"\n      },\n      link: function($scope, elem, attrs) {\n\n          $scope.$watch(\"data\", function(n, o) {\n            if (n !== o) {\n              updateChart();\n            }\n          });\n\n          //definitions\n          var diameter = 800,\n          format = d3.format(\",d\");\n\n  \n          var colorInterpolator = d3.interpolateHcl(\"#750076\", \"#ffa346\");\n\n\n          //create svg html element for directive and set attributes\n          var svg = d3.select(elem[0])\n            .append(\"svg\")\n            .attr(\"width\", diameter)\n            .attr(\"height\", diameter)\n            .attr(\"class\", \"bubble\")\n\n\n          //define pack\n          var packing = d3.layout.pack()\n            .sort(null)\n            .size([diameter, diameter])\n            .value(function(d) {\n              return d.estDiameterKm; // VALUE ACCESSOR -- change this to a variable\n            })\n            .padding(5);\n\n\n          function updateChart() {\n            \n            var radiusSelector = $scope.radiusSelector;\n            var colorSelector = $scope.colorSelector;\n            var data = $scope.data;\n\n            console.log($scope.radiusSelector)\n            console.log($scope.colorSelector)\n\n            //color interpolation max and min\n            var max, min;\n            data.children.forEach(function(e) {\n              max = (e.missDistanceKm*1 < max*1 ? max : e.missDistanceKm*1);\n              min = (e.missDistanceKm*1 > min*1 ? min : e.missDistanceKm*1);\n            });\n\n            if (data && data.children.length > 0) {\n              packing.radius()\n\n              var node = svg.selectAll(\".node\")\n                .data(packing.nodes(data)\n                  .filter(function(d) { //commenting this out gives container circle a blue background\n                    return !d.children;\n                  })\n                  );\n\n              node.exit().transition().duration(0).remove();\n\n              node.select(\"text\").remove()\n\n              node.enter().append(\"g\")\n                .classed(\"node\", true)\n                .attr(\"transform\", function(d) {\n                  return \"translate(\" + d.x + \",\" + d.y + \")\";\n                })\n                .append(\"circle\")\n                .style(\"fill\", function(d) {\n                  return colorInterpolator( (d.missDistanceKm - min) / (max - min) );\n                })\n                .attr('fill-opacity', 0.7)\n                .attr('stroke', function(d) {\n                  return colorInterpolator( (d.missDistanceKm - min) / (max - min) );\n                })\n                .attr('stroke-width', 2)\n\n              node.transition()\n                .attr(\"transform\", function(d) {\n                  return \"translate(\" + d.x + \",\" + d.y + \")\";\n                });\n\n              node.select(\"circle\")\n                .transition()\n                .attr(\"r\", function(d) {\n                  return d.r;\n                })\n\n              node.append(\"text\")\n                .attr(\"dy\", \".3em\")\n                .style(\"text-anchor\", \"middle\")\n                .style(\"pointer-events\", \"none\")\n                .text(function(d) {\n                  return textHandler(d);\n                });\n            } //end of if statement\n          } //end of update function\n          function textHandler(d) {\n            if (d.r < 30) {\n              return \"\";\n            }\n            return d.neoName.substring(0, d.r / 2.5)\n          }\n        } //end of link\n    } //end of return\n  }) //end of directive","angular.module('nasaViewer').controller('neoContr', function($scope, neoService, dateService) {\n\n  \n  $scope.weekArray = dateService.createWeekArray(dateService.getCurrentDate(), 8);\n\n  $scope.resetToggleButtons = function() {\n    for (let i = 0; i < $scope.weekArray.length; i++) {\n      $scope.weekArray[i].active = false;\n    }\n  };\n\n  $scope.resetToggleButtons();\n\n  $scope.mainTitleDate = \"\";\n  $scope.showMainTitleDate = false;\n  $scope.radiusSelector = \"estDiameterKm\";\n  $scope.colorSelector = \"missDistanceKm\";\n\n  $scope.toggleTitleDisplay = function(date) {\n    $scope.mainTitleDate = date;\n    $scope.showMainTitleDate = true;\n  }\n\n\n  $scope.getNeoData = function(startDate, endDate) {\n    \n    neoService.getNeoData(startDate, endDate).then(function(response) {\n      $scope.data = response;\n    console.log($scope.mainTitleDate, $scope.showMainTitleDate);\n      \n    })\n  }\n\n  \n\n\n\n});","angular.module('nasaViewer').service('neoDeserialServ', function() {\n\n  this.processNeoData = function(json) {\n\n    var neoObjects = [];\n\n    // loop through days of week\n    for (var date in json.near_earth_objects) {\n      // for each day, loop through asteroid objects\n      for (var i = 0; i < json.near_earth_objects[date].length; i++) {\n\n        var newNeoObj = {};\n        var rawNeoObj = json.near_earth_objects[date][i]\n\n        // ID number\n        newNeoObj.neoID = rawNeoObj.neo_reference_id;\n        // NEO name\n        newNeoObj.neoName = rawNeoObj.name;\n        // Date of closest approach\n        newNeoObj.closeApproachDate = rawNeoObj.close_approach_data[0].close_approach_date;\n        // Closest approach distance\n        newNeoObj.missDistanceKm = rawNeoObj.close_approach_data[0].miss_distance.kilometers;\n        // Mean estimated diameter\n        newNeoObj.estDiameterKm = (rawNeoObj.estimated_diameter.kilometers.estimated_diameter_max + rawNeoObj.estimated_diameter.kilometers.estimated_diameter_min) / 2;\n        // Relative velocity\n        newNeoObj.relVelocityKph = rawNeoObj.close_approach_data[0].relative_velocity.kilometers_per_hour;\n        // Orbiting body\n        newNeoObj.orbitBody = rawNeoObj.close_approach_data[0].orbiting_body;\n        // Is NEO classified as potentially hazardous?\n        newNeoObj.isPotHazard = rawNeoObj.is_potentially_hazardous_asteroid;\n\n        neoObjects.push(newNeoObj)\n      };\n    }\n    return {\n      children: neoObjects\n    }\n  }\n\n});","angular.module('nasaViewer').service('neoService', function($http, neoDeserialServ, dateService) {\n\n  //NASA api key\n  var apiKey = \"2DGaM1ahLanQmj6wbsyHjLpe54YCodSEzsvm4cjZ\";\n\n  // http request for all neo with nearest approach over next 7 days\n  this.getNeoData = function(startDate, endDate) {\n\n    var neoDataRequest = {\n\n      method: \"GET\",\n      url: \"https://api.nasa.gov/neo/rest/v1/feed?start_date=\" + startDate + \"&end_date=\" + endDate + \"&api_key=\" + apiKey\n    }\n\n    var promise = $http(neoDataRequest).then(function(response) {\n      // strip header and hand off to deserializing service\n\n      return neoDeserialServ.processNeoData(response.data);\n\n    })\n\n    return promise; //must return the promise for accessing functions\n\n  }\n\n\n\n});"]}